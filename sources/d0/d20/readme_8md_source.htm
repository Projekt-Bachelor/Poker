<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bachelor-Projekt 2018 - Poker: readme.md Quellcode</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js", "TeX/AMSmath.js", "TeX/AMSsymbols.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../layout.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Bachelor-Projekt 2018 - Poker
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Erzeugt von Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Suchen');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Suchen');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d0/d20/readme_8md.htm','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">readme.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d0/d20/readme_8md.htm">gehe zur Dokumentation dieser Datei</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# Bachelorproject 2018 - Poker</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;## Bestandteile:</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;- 52 Karten (von 2 - Ass)</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;- Chips</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;- Small- + Big-Blind (doppelt so groß wie Small-Blind)</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;## Spielablauf:</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;### 1. Runde - Flop:</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;- Zuerst ist der Spieler, der links vom Big Blind sitzt, an der Reihe.</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;- Dieser hat die Möglichkeit zu *callen, raisen, oder folden*</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;- Reihum tätigen alle Spieler ihre Einsätze, bis diese komplett ausgeglichen sind, also alle Spieler, die noch im Spiel bleiben wollen, den gleichen Einsatz erbracht haben.</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;- Anschließend werden drei offene Karten in die Tischmitte gelegt (**Flop**)</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;### 2. Runde - Turn:</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;- Die Einsätze aller Spieler, werden in die Tischmitte gelegt (**Pot**)</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;- Nachdem der Flop offen ausgelegt wurde, folgt eine weitere Setzrunde (alle Spieler die einen *Fold* gespielt haben werden ignoriert)</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;- Wenn alle Spieler entweder den Höchsteinsatz beglichen oder einen *Fold* gespielt haben, wird die 4. Karte in die Mitte gelegt (**Turn**)</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;### 3. Runde - River:</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;- Nach dem *Turn* kommt es zu einer weiteren Setzrunde.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;- Sind alle Einsätze ausgeglichen und immer noch zwei oder mehr Spieler im Spiel, wird die 5. Karte in die Mitte gelegt (**River**)</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;### 4. Runde - Showdown:</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;- Nach dem *River* kommt es zu einer weiteren Setzrunde.</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;- Sind nach dieser noch mehr als 1 Spieler im Spiel, kommt es zum *Showdown*.</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;- Alle verbliebenden Spieler müssen reihum ihre Hand, also ihre zwei verdeckten Karten aufdecken und das beste Poker-Blatt gewinnt.</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;- Der Gewinner erhät den gesamten Pot (bei einem Unentschieden, wird der Pot unter allen Spielern mit der gleichen Hand aufgeteilt)</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;### Ende des Spiels:</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;#### Alle Spieler steigen aus:</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;Falls ein Spieler in irgendeiner Spielrunde einen Bet oder einen Raise gesetzt hat und diesen kein anderer Spieler begleichen kann/will, gewinnt dieser Spieler den Pot</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;#### All-In:</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;Falls ein Spieler *All-In* geht, gibt er alle seine verbliebenden Chips in die Mitte. Sollte ein Spieler mitgehen und keine Möglichkeit für *Bets, Calls und Raises* mehr bestehen, werden sofort die Hände der beteiligten Spieler aufgedeckt und anschließend die verbliebenden Karten in der Mitte umgedreht.</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;#### Showdown:</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;Wenn bis zur letzten Spielrunde mindestens zwei Spieler im Spiel sind und alle Einsätze ausgeglichen sind, werden die Blätter der Spieler offen auf den Tisch gelegt und die beste Hand gewinnt.</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;## Spielregeln:</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;- Alle Spieler erhalten 2 verdeckte Karten auf die Hand</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;- Außerdem werden 5 verdeckte Karten in die Tischmitte gelegt</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;### Handlungsoptionen in der Setzrunde:</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;- **Check**: Falls bislang noch kein Einsatz in einer Runde plaziert wurde. Sie geben zu ihrem linkenn Nachbarn weiter, ohne etwas zu setzen.</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;- **Bet**: Wenn noch kein anderer Spieler in der Runde einen Einsatz getätigt hat, kann ein Bet plaziert werden. Die Bet muss dabei mindestens so hoch sein wie der Big Blind!</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;- **Call**: Hat ein anderer Spieler bereits eine *Bet* getätigt besteht die Möglichkeit zu callen. Das bedeutet, dass der Einsatz des Gegenspielers beglichen wird.</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;- **Raise**: Wenn ein anderer Spieler bereits eine *Bet* plaziert hat und man diese überbieten möchte. Dieser muss mindestens das Doppelte der ursprünglichen *Bet* betragen.</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;- **Fold**: Bei einem *Fold* steigt man aus der aktuellen Runde aus und man muss seine Karten **verdeckt** abgeben. Ein *Fold* kann erst nach dem Setzen von Small- und Big-Blind erfolgen</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;### Kartenkombinationen:</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;Kartenkombinationen sind absteigend sortiert:</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;**A** : Ass; **K** : König; **Q** : Dame; **J** : Bube</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;- **Royal Flush**: A-K-Q-J-10 *Alle eine Farbe*</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;- **Straight Flush**: 7-6-5-4-3 *Alle eine Farbe*</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;- **Vier Gleiche**: 4 Karten desselben Ranges z.B. vier Buben</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;- **Full House**: Kombination aus 3 Karten desselben Ranges und einem Paar eines anderen Ranges (z.B. Q-Q-Q-2-2)</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;- **Flush**: 5 Karten einer Farbe (z.B. K-Q-9-6-3)</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;- **Straße**: 5 aufeinander folgende Karten. Jede Straße enthält entweder eine 5 oder eine 10! (z.B. 7-6-5-4-3)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;- **Drei Gleiche**: 3 Karten desselben Ranges z.B. drei Asse</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;- **Zwei Paare**: 2 Karten eines Ranges und zwei weiteren Karten eines anderen Ranges. (z.B. zwei Buben und zwei Achten)</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;- **Ein Paar**: 2 Karten desselben Ranges. (z.B. zwei Damen)</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;- **Hohe Karte**: Das Blatt mit der höchsten Karte gewinnt</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;## Allgemeiner Programmablauf:</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;Der user landet zunächst auf der *index.html* Seite. Dort hat er zunächst die Möglichkeit einen Spielernamem und einen Namen des Spieltisches einzugeben und somit einen neuen Spieltisch mit sich als *owner* zu erstellen.</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;Gleichzeitig wird bei jedem **refresh** ein Rest-Call an den Server geschickt, der daraufhin eine Liste aller erstellten Tische zurückgibt. Mit der Eingabe eines Usernames, kann der user auf einen der verfügbaren Tischnamen klicken und joint dann automatisch diesem Tisch.</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;Anschließend wird man bei beiden Möglichkeiten auf die *game.html* umgeleitet. Gleichzeitig wird bei diesem Vorgang eine einzigartige UUID als URL-Parameter übermittelt.</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;Sobald die HTML-Seite fertig geladen ist, wird zunächst eine Websocketverbindung (mit Stomp) zum Server hergestellt. Bei diesem Vorgang wird außerdem der einzigartige Endpoint (*/message/ + UUID*) eingerichtet (Subsribtion).</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;Innerhalb des UIs hat man zunächst die Auswahl zwischen zwei Buttons **Start Game** und **Leave Game**. Bei beiden Möglichkeiten wird ein *CGameControl*-Objekt mittels Stomp-Message an den Server übermittelt. Beide Nachrichten unterscheiden sich nur im Attribut *type* des *CGameControl*-Objektes (**startgame** bei Start Game und **leave** bei Leave Game). Bei der **Leave Game** Aktion wird zusetzlich noch der redirect auf die *hub.html* durchgeführt.</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;```javascript</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;$(function () {</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    $(&quot;form&quot;).on(&#39;submit&#39;, function (e) {</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        e.preventDefault();</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    });</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    $( &quot;#startgame&quot;).click(function () { sendGameControls(&quot;startgame&quot;); });</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    $( &quot;#leave&quot;).click(function () { sendGameControls(&quot;leave&quot;); leave(); });</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;});</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;function sendGameControls(type) {</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    stompClient.send(&quot;/app/game/controls&quot;, {},</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        JSON.stringify({&#39;type&#39;: type}));</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;function leave() {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    document.location.replace(&quot;/hub&quot;)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;```</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;## Package-Erklärungen:</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;### Tokens:</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;Die Klasse **ETokens** kümmert sich um die Verwaltung der Tokens. Ein Token besteht aus einer einmaligen UUID, dem Spieltisch, dem Spielernamen und einem Timestamp, der auf die Erzeugung des Tokens zeigt (wird benötigt um nichtbenutzte Token nach einer gewissen Zeit wieder zu löschen).</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/d20/readme_8md.htm">readme.md</a></li>
    <li class="footer">Erzeugt von
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
